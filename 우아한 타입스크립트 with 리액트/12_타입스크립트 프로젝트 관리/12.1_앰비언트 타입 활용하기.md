## 1. 앰비언트 타입 선언

타입스크립트 타입 선언은 .ts 또는 .tsx 확장자를 가진 파일에서 할 수 있지만 .d.ts 확장자를 가진 파일에서도 선언할 수 있다.

### 앰비언트 타입 선언

.d.ts 확장자를 가진 파일에서는 타입 선언만 할 수 있으며 값을 표현할 수는 없다.

**값을 포함하는 일반적인 선언과 구별하기 위해 .d.ts 확장자를 가진 파일에서 하는 타입 선언을 앰비언트 타입 선언이라고 부른다.**

> 앰비언트(ambient)는 사전적으로 '주변의'란 의미를 가진다.

**앰비언트 타입 선언으로 값을 정의할 수는 없지만 declare라는 키워드를 사용하여 어딘가에 자바스크립트 값이 존재한다는 사실을 선언할 수 있다.**

> declare는 타입스크립트 컴파일러에 어떤 것의 존재 여부를 명시해주는 역할을 한다.
>
> 단순히 존재 여부만 알려주기 때문에 컴파일 대상이 아니다.

### 대표적인 앰비언트 타입 선언 활용 사례

타입스크립트를 사용하다 보면 *.js 또는 *.ts 형식이 아닌 파일을 임포트할 때 종종 에러가 발생하는 것을 보게 된다.

예를 들어 자바스크립트로 png 등 이미지 파일을 모듈로 임포트할 때, 자바스크립트 환경에서는 멀쩡히 동작하던 게 타입스크립트 환경에서는 에러가 발생하는 상황이 연출되곤 한다.

타입스크립트는 기본적으로 .ts와 .js 파일만 이해하며 그 외의 다른 파일 형식은 인식하지 못한다.

따라서 알지 못하는 파일 형식을 모듈로 가져오려 하면 에러가 발생한다.

이런 상황에서 타입스크립트의 declare 키워드를 사용하여 아래와 같이 특정 형식을 모듈로 선언하면 타입스크립트 컴파일러에 미리 정보를 제공함으로써 에러를 수정할 수 있게 된다.

```typescript
declare module "*.png" {
  const src: string;
  export default src;
}
```

보다시피 declare 키워드는 이미 존재하지만 타입스크립트가 알지 못하는 부분을 컴파일러에 '이러한 것이 존재해'라고 알려주는 역할을 한다.

### 자바스크립트로 작성된 라이브러리

자바스크립트로 작성된 npm 라이브러리가 있다고 가정해보자.

이 라이브러리는 자바스크립트로 구현되었기에 타입 선언이 존재하지 않는다.

따라서 타입스크립트에서 이 라이브러리를 사용할 수는 있지만 타입 선언이 없으므로 임포트한 모듈은 모두 any로 추론될 것이다.

만약 tsconfig.json 파일에서 any를 사용하지 못하게 설정했다면 프로젝트가 빌드되지 않을 것이다.

이때 앰비언트 타입 선언을 사용할 수 있다.

**자바스크립트 라이브러리 내부 함수와 변수의 타입을 앰비언트 타입으로 선언하면 타입스크립트는 자동으로 .d.ts 확장자를 가진 파일을 검색하여 타입 검사를 진행하게 되므로 문제없이 컴파일된다.**

**또한 VSCode와 같은 코드 편집기도 .d.ts 확장자를 가진 파일을 해석하여 코드를 작성할 때 유용한 타입 힌트를 제공한다.**

예를 들어 @types/react를 npm install -D 명령을 통해 설치하면 node_modules/@types/react에 index.d.ts와 global.d.ts가 설치된다.

이러한 파일에는 리액트의 컴포넌트와 훅에 대한 타입이 정의되어 있다.

더욱 흥미로운 점은 tsc는 별도의 설정 없이도 node_modules/@types 디렉터리에 있는 타입 선언을 타입 검사에 활용한다는 것이다.

앞서 언급한대로 VSCode는 index.d.ts와 global.d.ts 파일을 활용하여 코드 작성 시 유용한 타입 힌트를 제공한다.

**즉, 앰비언트 타입 선언은 타입스크립트에게 '자바스크립트 코드 안에는 이러한 정보들이 있어'라고 알려주는 도구라고 이해하면 된다.**

### 타입스크립트로 작성된 라이브러리

### 자바스크립트 어딘가에 전역 변수가 정의되어 있음을 타입스크립트에 알릴 때

## 2. 앰비언트 타입 선언 시 주의점

### 타입스크립트로 만드는 라이브러리에는 불필요

### 전역으로 타입을 정의하여 사용할 때 주의해야 할 점

## 3. 앰비언트 타입 선언을 잘못 사용했을 때의 문제점

## 4. 앰비언트 타입 활용하기

### 타입을 정의하여 임포트 없이 전역으로 공유

### declare type 활용하기

### declare module 활용하기

### declare namespace 활용하기

### declare global 활용하기

## 5. declare와 번들러의 시너지
